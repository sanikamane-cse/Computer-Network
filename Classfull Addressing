#include <iostream>
#include <cstring>
#include <cstdlib>
using namespace std;

int main() {
    char ip[20];
    int a, b, c, d;

    cout << "Enter an IP address : ";
    cin >> ip;

    // Convert string IP to 4 integers
    if (sscanf(ip, "%d.%d.%d.%d", &a, &b, &c, &d) != 4) {
        cout << "Invalid IP format\n";
        return 0;
    }

    cout << "\nGiven IP address : " << ip << "\n";

    // Class detection
    if (a >= 1 && a <= 126)
        cout << "Class : A\n";
    else if (a >= 128 && a <= 191)
        cout << "Class : B\n";
    else if (a >= 192 && a <= 223)
        cout << "Class : C\n";
    else if (a >= 224 && a <= 239)
        cout << "Class : D (Multicast)\n";
    else if (a >= 240 && a <= 255)
        cout << "Class : E (Experimental)\n";
    else {
        cout << "Invalid IP address\n";
        return 0;
    }

    // Network ID & Host ID detection
    if (a >= 1 && a <= 126) {  
        cout << "Network ID : " << a << ".0.0.0\n";
        cout << "Host ID : 0." << b << "." << c << "." << d << "\n";
    }
    else if (a >= 128 && a <= 191) {
        cout << "Network ID : " << a << "." << b << ".0.0\n";
        cout << "Host ID : 0.0." << c << "." << d << "\n";
    }
    else if (a >= 192 && a <= 223) {
        cout << "Network ID : " << a << "." << b << "." << c << ".0\n";
        cout << "Host ID : 0.0.0." << d << "\n";
    }

    return 0;
}
